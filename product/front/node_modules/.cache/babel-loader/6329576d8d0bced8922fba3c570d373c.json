{"ast":null,"code":"var _jsxFileName = \"/home/techmanager/Documents/tkiener-blablapp-react/product/front/src/UserHome.jsx\";\nimport './UserHome.css';\nimport reactDom from 'react-dom'; // import * as React from 'react';\n\nimport React, { useState } from 'react';\nimport { AppBar, Toolbar, Typography, Button, IconButton } from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport ConversationsByRows from './ConversationsByRows';\nimport Header from './Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass UserHome extends React.Component {\n  constructor(props) {\n    super(props); // Etat du composant\n\n    this.getConversations = () => {\n      fetch('http://localhost:5000/conversation-list').then(response => {\n        return response.json();\n      }).then(convers_list => {\n        console.log('UserHome/getConversations/convers_list', convers_list); // Sauvegarde de l'état du composant avec le résultat de la réponse parsée de la DB\n\n        this.setState({\n          conversations: convers_list.conversations\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    };\n\n    this.state = {\n      // liste des conversations de l'utilisateur connecté\n      conversations: []\n    };\n  }\n\n  componentDidMount() {\n    this.getConversations();\n    this.createConvMouseOver();\n  }\n\n  createConvMouseOver() {\n    let createIcon = document.getElementById(\"create-conv\");\n    createIcon.addEventListener(\"mouseover\", function (event) {\n      // on met l'accent sur la cible de mouseover\n      let div = document.getElementById(\"create-mssg\").textContent = \"Créer une conversation\";\n      setTimeout(function () {\n        document.getElementById(\"create-mssg\").textContent = \"\";\n      }, 500);\n    }, false);\n  } // Rendu React du composant\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Conversations:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), this.state.conversations.map(conv => {\n          return /*#__PURE__*/_jsxDEV(ConversationsByRows, {\n            id: conv.id,\n            name: conv.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"http://localhost:3000/create-conversation\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"create-conv\",\n            src: \"/convers-icon.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 63\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"create-mssg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default UserHome;","map":{"version":3,"sources":["/home/techmanager/Documents/tkiener-blablapp-react/product/front/src/UserHome.jsx"],"names":["reactDom","React","useState","AppBar","Toolbar","Typography","Button","IconButton","MenuIcon","SearchIcon","CloseIcon","ConversationsByRows","Header","UserHome","Component","constructor","props","getConversations","fetch","then","response","json","convers_list","console","log","setState","conversations","error","state","componentDidMount","createConvMouseOver","createIcon","document","getElementById","addEventListener","event","div","textContent","setTimeout","render","map","conv","id","name"],"mappings":";AAAA,OAAO,gBAAP;AACA,OAAOA,QAAP,MAAqB,WAArB,C,CACA;;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SACEC,MADF,EAEEC,OAFF,EAGEC,UAHF,EAIEC,MAJF,EAKEC,UALF,QAMO,mBANP;AAOA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;;AAGA,MAAMC,QAAN,SAAuBZ,KAAK,CAACa,SAA7B,CAAuC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN,EADiB,CAEjB;;AAFiB,SAcnBC,gBAdmB,GAcA,MAAM;AACvBC,MAAAA,KAAK,CAAC,yCAAD,CAAL,CACCC,IADD,CACMC,QAAQ,IAAI;AAChB,eACEA,QAAQ,CAACC,IAAT,EADF;AAEA,OAJF,EAKCF,IALD,CAKMG,YAAY,IAAI;AACpBC,QAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDF,YAAtD,EADoB,CAEpB;;AACA,aAAKG,QAAL,CAAc;AACZC,UAAAA,aAAa,EAAGJ,YAAY,CAACI;AADjB,SAAd;AAGK,OAXP,EAWUC,KAAD,IAAW;AACZ,aAAKF,QAAL,CAAc;AACZE,UAAAA;AADY,SAAd;AAGD,OAfP;AAiBD,KAhCkB;;AAGjB,SAAKC,KAAL,GAAa;AACX;AACAF,MAAAA,aAAa,EAAE;AAFJ,KAAb;AAID;;AAEDG,EAAAA,iBAAiB,GAAG;AAClB,SAAKZ,gBAAL;AACA,SAAKa,mBAAL;AACD;;AAsBDA,EAAAA,mBAAmB,GAAG;AACpB,QAAIC,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAjB;AACAF,IAAAA,UAAU,CAACG,gBAAX,CAA4B,WAA5B,EAAyC,UAAUC,KAAV,EAAkB;AACzD;AACA,UAAIC,GAAG,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCI,WAAvC,GAAqD,wBAA/D;AACAC,MAAAA,UAAU,CAAC,YAAW;AACpBN,QAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCI,WAAvC,GAAqD,EAArD;AACD,OAFS,EAEP,GAFO,CAAV;AAGD,KAND,EAMG,KANH;AAOD,GA5CoC,CAgDrC;;;AACAE,EAAAA,MAAM,GAAG;AAEP,wBACI;AAAA,8BACA,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEK,KAAKX,KAAL,CAAWF,aAAX,CAAyBc,GAAzB,CAA8BC,IAAD,IAAU;AACtC,8BACE,QAAC,mBAAD;AAAqB,YAAA,EAAE,EAAEA,IAAI,CAACC,EAA9B;AAAkC,YAAA,IAAI,EAAED,IAAI,CAACE;AAA7C;AAAA;AAAA;AAAA;AAAA,kBADF;AAGC,SAJF,CAFL,eAQE;AAAG,UAAA,IAAI,EAAC,2CAAR;AAAA,iCAAoD;AAAK,YAAA,EAAE,EAAC,aAAR;AAAsB,YAAA,GAAG,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA;AAApD;AAAA;AAAA;AAAA;AAAA,gBARF,eASE;AAAK,UAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA;AAAA,oBADJ;AAiBD;;AApEoC;;AAuEvC,eAAe9B,QAAf","sourcesContent":["import './UserHome.css';\nimport reactDom from 'react-dom';\n// import * as React from 'react';\nimport React, { useState } from 'react'\nimport { \n  AppBar,\n  Toolbar,\n  Typography,\n  Button,\n  IconButton\n} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport ConversationsByRows from './ConversationsByRows';\nimport Header from './Header'\n\n\nclass UserHome extends React.Component {\n  constructor(props) {\n    super(props);\n    // Etat du composant\n    this.state = {\n      // liste des conversations de l'utilisateur connecté\n      conversations: [],\n    }\n  }\n\n  componentDidMount() {\n    this.getConversations()\n    this.createConvMouseOver()\n  }\n\n  getConversations = () => {\n    fetch('http://localhost:5000/conversation-list')\n    .then(response => {\n      return(\n        response.json()\n    )})\n    .then(convers_list => {\n      console.log('UserHome/getConversations/convers_list', convers_list)\n      // Sauvegarde de l'état du composant avec le résultat de la réponse parsée de la DB\n      this.setState({\n        conversations : convers_list.conversations\n      });\n          }, (error) => {\n            this.setState({\n              error\n            });\n          }\n      )\n  };\n  \n  createConvMouseOver() {\n    let createIcon = document.getElementById(\"create-conv\");\n    createIcon.addEventListener(\"mouseover\", function( event ) {\n      // on met l'accent sur la cible de mouseover\n      let div = document.getElementById(\"create-mssg\").textContent = \"Créer une conversation\"\n      setTimeout(function() {\n        document.getElementById(\"create-mssg\").textContent = \"\";\n      }, 500);\n    }, false);\n  }\n\n\n\n  // Rendu React du composant\n  render() {\n\n    return (\n        <>\n        <Header />\n        <section>\n          <div>Conversations:</div>\n            {this.state.conversations.map((conv) => {\n              return (\n                <ConversationsByRows id={conv.id} name={conv.name} />\n                )\n              })\n            }\n          <a href='http://localhost:3000/create-conversation'><img id=\"create-conv\" src=\"/convers-icon.png\"/></a>\n          <div id=\"create-mssg\"></div>\n        </section>\n        </>\n      );\n    \n  }\n}\n\nexport default UserHome;\n"]},"metadata":{},"sourceType":"module"}