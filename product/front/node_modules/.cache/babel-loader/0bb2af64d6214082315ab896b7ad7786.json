{"ast":null,"code":"var _jsxFileName = \"/Users/tekyteka/Documents/tkiener-blablapp-react/product/front/src/UserHome.jsx\";\nimport './UserHome.css';\nimport reactDom from 'react-dom';\nimport { Link } from \"react-router-dom\"; // import * as React from 'react';\n\nimport React, { useState } from 'react';\nimport { AppBar, Toolbar, Typography, Button, IconButton } from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport ConversationsByRows from './ConversationsByRows';\nimport Header from './Header';\nimport ContactsDisplay from './ContactsDisplay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass UserHome extends React.Component {\n  constructor(props) {\n    super(props); // Etat du composant\n\n    this.getConversations = () => {\n      fetch('http://localhost:5000/conversation-list').then(response => {\n        return response.json();\n      }).then(convers_list => {\n        console.log('UserHome/getConversations/convers_list', convers_list); // Sauvegarde de l'état du composant avec le résultat de la réponse parsée de la DB\n\n        this.setState({\n          conversations: convers_list.conversations,\n          contacts: convers_list.contacts\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    };\n\n    this.state = {\n      // liste des conversations de l'utilisateur connecté\n      conversations: [],\n      // liste des contacts de l'utilisateur connecté\n      contacts: []\n    };\n  }\n\n  componentDidMount() {\n    this.getConversations();\n    this.createContactMouseOver();\n  }\n\n  createContactMouseOver() {\n    let createIcon = document.getElementById(\"create-contact\");\n    createIcon.addEventListener(\"mouseover\", function (event) {\n      // on met l'accent sur la cible de mouseover\n      let div = document.getElementById(\"create-mssg\").textContent = \"Créer un contact\";\n      createIcon.addEventListener(\"mouseleave\", function (e) {\n        let div = document.getElementById(\"create-mssg\").textContent = \"\";\n      });\n    }, false);\n  } // Rendu React du composant\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"flex-aside\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Contacts:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this), this.state.contacts.map(member => {\n              return /*#__PURE__*/_jsxDEV(ContactsDisplay, {\n                id: member.id,\n                username: member.username,\n                email: member.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 23\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"create-contact-container\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"http://localhost:3000/create-contact\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  id: \"create-conv\",\n                  src: \"/convers-icon.png\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"create-mssg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Conversations:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), this.state.conversations.map(conv => {\n            return /*#__PURE__*/_jsxDEV(ConversationsByRows, {\n              id: conv.id,\n              name: conv.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 19\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"create-conv-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"http://localhost:3000/create-conversation\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                id: \"create-conv\",\n                src: \"/convers-icon.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 67\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"create-mssg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default UserHome;","map":{"version":3,"sources":["/Users/tekyteka/Documents/tkiener-blablapp-react/product/front/src/UserHome.jsx"],"names":["reactDom","Link","React","useState","AppBar","Toolbar","Typography","Button","IconButton","MenuIcon","SearchIcon","CloseIcon","ConversationsByRows","Header","ContactsDisplay","UserHome","Component","constructor","props","getConversations","fetch","then","response","json","convers_list","console","log","setState","conversations","contacts","error","state","componentDidMount","createContactMouseOver","createIcon","document","getElementById","addEventListener","event","div","textContent","e","render","map","member","id","username","email","conv","name"],"mappings":"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","sourcesContent":["import './UserHome.css';\n\nimport reactDom from 'react-dom';\nimport {\n  Link\n} from \"react-router-dom\";\n// import * as React from 'react';\nimport React, { useState } from 'react'\nimport { \n  AppBar,\n  Toolbar,\n  Typography,\n  Button,\n  IconButton\n} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport ConversationsByRows from './ConversationsByRows';\nimport Header from './Header'\nimport ContactsDisplay from './ContactsDisplay';\n\n\nclass UserHome extends React.Component {\n  constructor(props) {\n    super(props);\n    // Etat du composant\n    this.state = {\n      // liste des conversations de l'utilisateur connecté\n      conversations: [],\n      // liste des contacts de l'utilisateur connecté\n      contacts: [],\n    }\n  }\n\n  componentDidMount() {\n    this.getConversations()\n    this.createContactMouseOver()\n  }\n\n  getConversations = () => {\n    fetch('http://localhost:5000/conversation-list')\n    .then(response => {\n      return(\n        response.json()\n    )})\n    .then(convers_list => {\n      console.log('UserHome/getConversations/convers_list', convers_list)\n      // Sauvegarde de l'état du composant avec le résultat de la réponse parsée de la DB\n      this.setState({\n        conversations : convers_list.conversations,\n        contacts : convers_list.contacts\n      });\n          }, (error) => {\n            this.setState({\n              error\n            });\n          }\n      )\n  };\n  \n  createContactMouseOver() {\n    let createIcon = document.getElementById(\"create-contact\");\n    createIcon.addEventListener(\"mouseover\", function( event ) {\n      // on met l'accent sur la cible de mouseover\n      let div = document.getElementById(\"create-mssg\").textContent = \"Créer un contact\"\n\n      createIcon.addEventListener(\"mouseleave\", function(e) {\n        let div = document.getElementById(\"create-mssg\").textContent = \"\"\n      })\n    }, false);\n  }\n\n\n\n  // Rendu React du composant\n  render() {\n\n    return (\n        <>\n        <Header />\n          <div id=\"flex-aside\">\n\n            <div className=\"side-bar\">\n              <section>\n                <div>Contacts:</div>             \n                  {this.state.contacts.map((member) => {\n                    return (\n                      <ContactsDisplay id={member.id} username={member.username} email={member.email} />\n                    )\n                  })}\n                <div id=\"create-contact-container\">\n                  <Link to='http://localhost:3000/create-contact'>\n                    <img id=\"create-conv\" src=\"/convers-icon.png\"/>\n                  </Link>\n                  <div id=\"create-mssg\"></div>\n                </div> \n              </section>                         \n            </div>        \n          <section>\n            <div>Conversations:</div>\n              {this.state.conversations.map((conv) => {\n                return (\n                  <ConversationsByRows id={conv.id} name={conv.name} />\n                  )\n                })\n              }\n            <div id=\"create-conv-container\">\n              <a href='http://localhost:3000/create-conversation'><img id=\"create-conv\" src=\"/convers-icon.png\"/></a>\n              <div id=\"create-mssg\"></div>\n            </div>\n          </section>\n        </div>\n        </>\n      );\n    \n  }\n}\n\nexport default UserHome;\n"]},"metadata":{},"sourceType":"module"}